# ひとり古今東西

一人で「古今東西」（お題に沿った回答を思いつく限り挙げていくゲーム）を延々と楽しめるWebアプリケーションです。

## 概要

地理、歴史、科学、スポーツなど、多岐にわたるジャンルのお題に挑戦できます。正解データはデータベース化されており、正式名称だけでなく別名での回答もサポートしています。

## 遊び方

1. `index.html` をブラウザで開きます（またはローカルサーバーを立ち上げてアクセスします）。
2. トップページに表示されるお題（テーマ）一覧から、挑戦したいものを選択します。
3. ゲーム画面（`theme.html`）に遷移したら、お題に沿った回答を入力欄に入力し、「判定」ボタン（またはEnterキー）を押します。
4. 正解であればリストに追加されます。
5. 諦める場合は「ギブアップ」ボタンを押すと、全回答リストが表示されます。

## ディレクトリ構成

- `index.html`: トップページ。お題一覧を表示します。
- `theme.html`: ゲームプレイ画面。
- `css/`: スタイルシートディレクトリ。
- `js/`: JavaScriptファイルディレクトリ。
    - `index.js`: トップページの制御（お題一覧の生成など）。
    - `game.js`: ゲーム画面の制御（正解判定、データ取得など）。
- `data/`: データディレクトリ。
    - `index.json`: カテゴリとお題（テーマ）の定義ファイル。各テーマがどのデータファイル（base）を使用するか、フィルタリング条件などを定義しています。
    - `bases/`: 正解データの実体（JSONファイル）が格納されています。

## データ構造

このプロジェクトのデータは `data/` ディレクトリ内で管理されています。

### `data/index.json`
お題のメタデータを管理します。
```json
{
  "categories": [
    { "id": "geo", "title": "地理" },
    ...
  ],
  "themes": [
    {
      "id": "prefectures",
      "title": "都道府県",
      "category": "geo",
      "base": "prefectures" // data/bases/prefectures.json を参照
    },
    ...
  ]
}
```

### `data/bases/*.json`
各お題の正解データを管理します。すべてのファイルは以下の構造で統一されています。

```json
{
  "id": "base-id",
  "answers": [
    {
      "name": "正式名称",
      "aliases": ["別名1", "別名2"],
      "tags": ["タグ1"]
    },
    ...
  ]
}
```
- `name`: 正解となる名称（表示用および判定用）。
- `aliases`: 正解とみなす別名のリスト。
- `tags`: 同じデータソースから特定条件（例：EU加盟国、夏のみ開催など）でフィルタリングするために使用します。

## 動作環境

- モダンブラウザ（Chrome, Firefox, Safari, Edgeなど）
- 静的ファイルのみで構成されているため、特別なバックエンドサーバーは不要ですが、Fetch APIを使用しているため、ローカルで動作確認する場合はローカルサーバー（Live Server等）経由でのアクセスを推奨します。
