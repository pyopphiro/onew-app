# ONEW古今東西

一人で「古今東西」（お題に沿った回答を思いつく限り挙げていくゲーム）を延々と楽しめるWebアプリケーションです。

## 概要

地理、歴史、科学、スポーツなど、多岐にわたるジャンルのお題に挑戦できます。正解データはデータベース化されており、正式名称だけでなく別名での回答もサポートしています。

## 遊び方

1. `index.html` をブラウザで開きます（またはローカルサーバーを立ち上げてアクセスします）。
2. トップページにお題（テーマ）のカテゴリ一覧が表示されます。カテゴリをクリックすると、その中から挑戦したいお題を選択できます。
3. ゲーム画面（`theme.html`）に遷移したら、お題に沿った回答を入力欄に入力し、「判定」ボタン（またはEnterキー）を押します。
4. 正解であればリストに追加されます。
5. 諦める場合は「ギブアップ」ボタンを押すと、全回答リストが表示されます。
6. ギブアップ後でも「続きから再開する」ボタンを押すと、入力済みの解答はそのままゲームを再開できます。
7. 結果画面には「同じお題に再挑戦」ボタンも用意されており、すぐにリトライ可能です。

## ディレクトリ構成

- `index.html`: トップページ（最近の更新パネルとお題一覧を表示）。
- `theme.html`: ゲームプレイ画面。
- `css/`: スタイルシートディレクトリ。
- `js/`: JavaScriptファイルディレクトリ。
- `data/`: データディレクトリ。
    - `index.json`: カテゴリとお題（テーマ）の定義ファイル。
    - `updates.json`: トップページに表示する更新情報の管理ファイル。
    - `bases/`: 正解データの実体（JSONファイル）が格納されています。

## データ構造

このプロジェクトのデータは `data/` ディレクトリ内で管理されています。

### `data/updates.json`
トップページの「最近の更新」パネルに表示する更新情報を管理します。新しい更新は配列の**先頭**に追加します。

```json
[
  {
    "date": "YYYY-MM-DD",
    "type": "feature",
    "text": "更新内容の説明"
  }
]
```

`type` に指定できる値:

| 値 | 表示ラベル | 色 |
|---|---|---|
| `theme` | お題追加 | 紫 |
| `feature` | 機能追加 | 青 |
| `fix` | バグ修正 | 緑 |

### `data/index.json`
お題のメタデータを管理します。
```json
{
  "categories": [
    { "id": "geo", "title": "地理" },
    ...
  ],
  "themes": [
    {
      "id": "prefectures",
      "title": "都道府県",
      "category": "geo",
      "base": "prefectures"
    },
    ...
  ]
}
```

### `data/bases/*.json`
各お題の正解データを管理します。すべてのファイルは以下の構造で統一されています。

```json
{
  "id": "base-id",
  "answers": [
    {
      "name": "正式名称",
      "aliases": ["別名1", "別名2"],
      "tags": ["タグ1"]
    },
    ...
  ]
}
```

## 動作環境

- モダンブラウザ（Chrome, Firefox, Safari, Edgeなど）
- ローカルサーバーでの動作を推奨します（Fetch API使用のため）。
